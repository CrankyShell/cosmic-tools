<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="icon" href="../../assets/images/logo.png" type="image/png">
    <title>Cosmic Analyzer - Market Context Tool</title>
    
    <!-- Google fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&display=swap" rel="stylesheet">
    
    <!-- Global styles -->
    <link rel="stylesheet" href="../../assets/css/main.css">
    <!-- Analyzer-specific styles -->
    <link rel="stylesheet" href="../../assets/css/analyzer.css">
    
    <style>
        /* Additional inline styles for new features */
        .chart-sizes {
            display: none;
            position: absolute;
            top: 100%;
            right: 0;
            background: var(--bg-darker);
            border: 1px solid var(--border-medium);
            border-radius: var(--radius-md);
            padding: var(--space-sm);
            z-index: 100;
            min-width: 120px;
            box-shadow: var(--shadow-heavy);
        }
        
        .chart-sizes.show {
            display: block;
        }
        
        .size-option {
            padding: var(--space-sm);
            cursor: pointer;
            border-radius: var(--radius-sm);
            transition: all var(--transition-fast);
            font-size: 14px;
        }
        
        .size-option:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .size-option.active {
            background: var(--accent-primary);
            color: #00100a;
            font-weight: 600;
        }
        
        .size-label {
            display: block;
            font-size: 12px;
            color: var(--text-secondary);
            margin-top: 2px;
        }
    </style>
</head>
<body>
    <!-- Cosmic background -->
    <div class="cosmic-bg"></div>
    
    <!-- Navigation -->
    <nav class="global-nav">
        <div class="nav-container">
            <div class="nav-logo">
                <a href="../../index.html" style="text-decoration: none;">
                    <h1>Cosmic Tools</h1>
                    <div class="nav-subtitle">Trading Tools Hub</div>
                </a>
            </div>
            
            <div class="nav-links">
                <a href="../../index.html" class="nav-link">Home</a>
                <a href="../cosmic-journal/index.html" class="nav-link">Cosmic Journal</a>
                <a href="index.html" class="nav-link active">Cosmic Analyzer</a>
                <a href="../../about.html" class="nav-link">About</a>
                <a href="../../contact.html" class="nav-link">Contact</a>
            </div>
            
            <button class="nav-menu-btn" id="mobile-menu-btn">‚ò∞</button>
        </div>
    </nav>
    
    <!-- Mobile Navigation -->
    <div class="mobile-nav" id="mobile-nav">
        <a href="../../index.html" class="mobile-nav-link">Home</a>
        <a href="../cosmic-journal/index.html" class="mobile-nav-link">Cosmic Journal</a>
        <a href="index.html" class="mobile-nav-link active">Cosmic Analyzer</a>
        <a href="../../about.html" class="mobile-nav-link">About</a>
        <a href="../../contact.html" class="mobile-nav-link">Contact</a>
    </div>
    
<!-- Main Analyzer Container -->
<main class="tool-container">
    <div class="tool-header">
        <a href="../../index.html" class="back-to-hub">
            ‚Üê Back to Hub
        </a>
        
        <h2>Cosmic Analyzer - Multi-Market Analysis Suite</h2>
        <p>Select a market type and instrument to get real-time analysis, economic events, and trading insights.</p>
        
        <div class="tool-breadcrumb">
            <a href="../../index.html" class="breadcrumb-item">Home</a>
            <span class="breadcrumb-separator">‚Ä∫</span>
            <a href="../../index.html" class="breadcrumb-item">Tools</a>
            <span class="breadcrumb-separator">‚Ä∫</span>
            <span class="breadcrumb-current">Cosmic Analyzer</span>
        </div>
    </div>
    
    <div class="analyzer-dashboard" id="analyzer-dashboard">
        <!-- REDESIGNED: Market Selection Section -->
        <section class="dashboard-section market-selection-section" id="market-selection">
            <h3>Market Selection</h3>
            <div class="market-selector-container">
                <!-- Left side - Market Selector Card -->
                <div class="market-selector-card">
                    <div class="selector-group">
                        <div class="selector-label">Market Type</div>
                        <div class="market-type-grid" id="market-type-buttons">
                            <!-- Market type buttons will be populated by JavaScript -->
                        </div>
                    </div>
                    
                    <div class="selector-group">
                        <div class="selector-label">Instrument</div>
                        <div class="pair-select-wrapper">
                            <select id="currency-pair" class="pair-select">
                                <!-- Options will be populated by JavaScript -->
                            </select>
                        </div>
                    </div>
                    
                    <div class="analyze-action">
                        <button id="analyze-pair" class="analyze-pair-btn">
                            <span class="btn-icon">üöÄ</span>
                            Launch Analysis
                        </button>
                    </div>
                </div>
                
                <!-- Right side - Live Preview Card -->
                <div class="live-preview-card">
                    <div class="preview-header">
                        <div class="preview-title">Live Preview</div>
                        <div class="current-symbol" id="current-symbol-display">EUR/USD</div>
                    </div>
                    
                    <div class="preview-content">
                        <!-- Mini Chart Only - No Stats -->
                        <div class="mini-chart-widget" id="mini-tradingview-widget">
                            <!-- TradingView Mini Symbol Overview Widget -->
                            <!-- Will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Live Session Timeline -->
        <section class="dashboard-section session-timeline-section">
            <div class="timeline-header">
                <h3>Live Session Timeline</h3>
                <div class="timezone-controls">
                    <div class="timezone-selector">
                        <label for="timezone-select">Timezone:</label>
                        <select id="timezone-select" class="timezone-select">
                            <!-- Options will be populated by JavaScript -->
                        </select>
                    </div>
                </div>
            </div>
            
            <!-- Session Cards -->
            <div class="session-cards">
                <div class="session-card session-tokyo" id="tokyo-session">
                    <div class="session-header">
                        <div class="session-title">Tokyo Session</div>
                        <div class="session-status" id="tokyo-status">--</div>
                    </div>
                    <div class="session-times">
                        <div>
                            <div class="session-time" id="tokyo-local-start">00:00</div>
                            <div class="session-time-label">Local Start</div>
                        </div>
                        <div>
                            <div class="session-time" id="tokyo-local-end">09:00</div>
                            <div class="session-time-label">Local End</div>
                        </div>
                    </div>
                    <div class="session-progress">
                        <div class="progress-label">
                            <span>Progress</span>
                            <span id="tokyo-progress-text">0%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="tokyo-progress-bar" style="width: 0%"></div>
                        </div>
                    </div>
                </div>
                
                <div class="session-card session-london" id="london-session">
                    <div class="session-header">
                        <div class="session-title">London Session</div>
                        <div class="session-status" id="london-status">--</div>
                    </div>
                    <div class="session-times">
                        <div>
                            <div class="session-time" id="london-local-start">08:00</div>
                            <div class="session-time-label">Local Start</div>
                        </div>
                        <div>
                            <div class="session-time" id="london-local-end">17:00</div>
                            <div class="session-time-label">Local End</div>
                        </div>
                    </div>
                    <div class="session-progress">
                        <div class="progress-label">
                            <span>Progress</span>
                            <span id="london-progress-text">0%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="london-progress-bar" style="width: 0%"></div>
                        </div>
                    </div>
                </div>
                
                <div class="session-card session-newyork" id="newyork-session">
                    <div class="session-header">
                        <div class="session-title">New York Session</div>
                        <div class="session-status" id="newyork-status">--</div>
                    </div>
                    <div class="session-times">
                        <div>
                            <div class="session-time" id="newyork-local-start">13:00</div>
                            <div class="session-time-label">Local Start</div>
                        </div>
                        <div>
                            <div class="session-time" id="newyork-local-end">22:00</div>
                            <div class="session-time-label">Local End</div>
                        </div>
                    </div>
                    <div class="session-progress">
                        <div class="progress-label">
                            <span>Progress</span>
                            <span id="newyork-progress-text">0%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="newyork-progress-bar" style="width: 0%"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Current Time Display -->
            <div class="current-time-display">
                <div class="current-time-label" id="current-time-display">--:-- --</div>
                <div class="current-timezone" id="current-timezone">Timezone</div>
            </div>
            
            <!-- Market Stats -->
            <div class="market-stats">
                <div class="market-stat">
                    <div class="stat-label">Volume (24h)</div>
                    <div class="stat-value" id="volume-stat">--</div>
                    <div class="stat-change" id="volume-change">--</div>
                </div>
                <div class="market-stat">
                    <div class="stat-label">Spread</div>
                    <div class="stat-value" id="spread-stat">--</div>
                    <div class="stat-change" id="spread-change">--</div>
                </div>
                <div class="market-stat">
                    <div class="stat-label">Market Hours</div>
                    <div class="stat-value" id="active-sessions">--</div>
                    <div class="stat-change" id="next-session">--</div>
                </div>
                <div class="market-stat">
                    <div class="stat-label">Session Overlap</div>
                    <div class="stat-value" id="overlap-status">--</div>
                    <div class="stat-change" id="overlap-hours">--</div>
                </div>
            </div>
        </section>
        
        <!-- Main Analysis Grid - Side by side -->
        <div class="analysis-grid" id="analysis-grid">
            <!-- Price Chart Section -->
            <!-- In the price-chart-section of your index.html -->
<section class="dashboard-section price-chart-section">
    <div class="chart-header">
        <h3>Advanced Chart</h3>
        <div class="chart-controls">
            <button class="resize-btn" id="chart-size-btn" title="Chart Size">
                üìê
            </button>
            <div class="chart-sizes" id="chart-size-options">
                <div class="size-option" data-size="550">Small<span class="size-label">550px</span></div>
                <div class="size-option active" data-size="650">Medium<span class="size-label">650px</span></div>
                <div class="size-option" data-size="750">Large<span class="size-label">750px</span></div>
                <div class="size-option" data-size="auto">Auto<span class="size-label">Dynamic</span></div>
            </div>
        </div>
    </div>
    
    <!-- TradingView Advanced Chart -->
    <div class="tradingview-chart-container" id="tradingview-chart-container">
        <div class="tradingview-chart-widget" id="tradingview-chart">
            <!-- Will be populated by JavaScript -->
        </div>
    </div>
</section>
            
            <!-- Economic Calendar -->
            <section class="dashboard-section economic-calendar-section">
                <div class="calendar-header">
                    <h3>Economic Calendar</h3>
                </div>
                
                <div class="calendar-toggle">
                    <div class="toggle-label">
                        Pair-Specific News
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" id="calendar-toggle" checked>
                        <span class="toggle-slider"></span>
                    </label>
                    <div class="toggle-description">
                        Show only news related to selected pair
                    </div>
                </div>
                
                <div class="tradingview-widget-container" id="economic-calendar-widget">
                    <!-- Will be populated by JavaScript -->
                </div>
            </section>
        </div>
        
        <!-- News Section -->
        <section class="dashboard-section news-section">
            <div class="news-header">
                <h3>Latest Market News</h3>
                <button class="refresh-btn" id="refresh-news">
                    <span class="refresh-icon">üîÑ</span>
                    Refresh News
                </button>
            </div>
            
            <div class="tradingview-widget-container" id="news-widget">
                <!-- Will be populated by JavaScript -->
            </div>
        </section>
        
        <!-- Quick Actions -->
        <section class="dashboard-section actions-section">
            <h3>Quick Actions</h3>
            <div class="actions-grid">
                <button class="action-btn" id="open-journal">
                    <span class="action-icon">üìì</span>
                    <span class="action-text">Open Journal</span>
                </button>
                <button class="action-btn" id="reset-analysis">
                    <span class="action-icon">üîÑ</span>
                    <span class="action-text">Reset Analysis</span>
                </button>
                <button class="action-btn" id="back-to-top">
                    <span class="action-icon">‚¨ÜÔ∏è</span>
                    <span class="action-text">Back To Top</span>
                </button>
                <button class="action-btn" id="export-snapshot">
                    <span class="action-icon">üì∑</span>
                    <span class="action-text">Take Snapshot</span>
                </button>
            </div>
        </section>
    </div>
</main>
    
    <!-- Footer -->
    <footer class="global-footer">
        <div class="footer-content">
            <div class="footer-brand">
                <h3>Cosmic Tools</h3>
                <p>Trading Tools Hub</p>
                <div class="footer-social">
                    <a href="#" class="social-link">Twitter</a>
                    <a href="#" class="social-link">Instagram</a>
                    <a href="#" class="social-link">Discord</a>
                </div>
            </div>
            
            <div class="footer-links">
                <div class="footer-column">
                    <h4>Tools</h4>
                    <a href="../cosmic-journal/index.html">Cosmic Journal</a>
                    <a href="index.html">Cosmic Analyzer</a>
                    <a href="#">Risk Calculator</a>
                </div>
                
                <div class="footer-column">
                    <h4>Resources</h4>
                    <a href="../../about.html">About</a>
                    <a href="../../contact.html">Contact</a>
                    <a href="#">Documentation</a>
                </div>
                
                <div class="footer-column">
                    <h4>Legal</h4>
                    <a href="#">Privacy Policy</a>
                    <a href="#">Terms of Service</a>
                    <a href="#">Disclaimer</a>
                </div>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>¬© 2024 Cosmic Tools v1.0 | Created with ‚ù§Ô∏è for traders</p>
            <p class="footer-note">Risk Disclaimer: Trading involves risk. Past performance is not indicative of future results.</p>
        </div>
    </footer>

<!-- Global Scripts -->
<script src="../../assets/js/main.js"></script>
<!-- Analyzer Scripts -->
<script src="../../assets/js/analyzer.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            if (window.CosmicTools) {
                window.CosmicTools.initializeTool('cosmic-analyzer');
            }
        });
    </script>
</body>
</html>
